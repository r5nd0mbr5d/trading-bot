2026-02-25 15:48:56,088 [INFO] src.cli.runtime: [OK] Broker provider is IBKR
2026-02-25 15:48:56,089 [INFO] src.cli.runtime: [OK] Market timezone is Europe/London
2026-02-25 15:48:56,090 [INFO] src.cli.runtime: [OK] Base currency is GBP
2026-02-25 15:48:56,091 [INFO] src.cli.runtime: [OK] Detected UK symbols: HSBA.L, VOD.L, BP.L, BARC.L, SHEL.L
2026-02-25 15:48:56,091 [INFO] src.cli.runtime: [OK] DB isolation paths set (paper=trading_paper.db, live=trading_live.db, test=trading_test.db)
2026-02-25 15:48:56,128 [INFO] ib_insync.client: Connecting to 127.0.0.1:7497 with clientId 73...
2026-02-25 15:48:56,129 [INFO] ib_insync.client: Connected
2026-02-25 15:48:56,132 [INFO] ib_insync.client: Logged on to server version 176
2026-02-25 15:48:56,133 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:hfarm
2026-02-25 15:48:56,133 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:eufarmnj
2026-02-25 15:48:56,133 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:cashfarm
2026-02-25 15:48:56,133 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfuture
2026-02-25 15:48:56,133 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:jfarm
2026-02-25 15:48:56,133 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfarm.nj
2026-02-25 15:48:56,134 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:eufarm
2026-02-25 15:48:56,134 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfarm
2026-02-25 15:48:56,134 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:euhmds
2026-02-25 15:48:56,134 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:fundfarm
2026-02-25 15:48:56,134 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:ushmds
2026-02-25 15:48:56,134 [INFO] ib_insync.wrapper: Warning 2158, reqId -1: Sec-def data farm connection is OK:secdefnj
2026-02-25 15:48:56,134 [INFO] ib_insync.client: API connection ready
2026-02-25 15:48:56,136 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1'), position=10.0, avgCost=13.81023)
2026-02-25 15:48:56,136 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=559.0, avgCost=4.7142142)
2026-02-25 15:48:56,136 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1'), position=690.0, avgCost=1.1878884)
2026-02-25 15:48:56,237 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=908940, symbol='BARC', right='0', primaryExchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=559.0, marketPrice=4.67830515, marketValue=2615.17, averageCost=4.7142142, unrealizedPNL=-20.07, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:48:56,238 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=909083, symbol='HSBA', right='0', primaryExchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1'), position=10.0, marketPrice=13.82199955, marketValue=138.22, averageCost=13.81023, unrealizedPNL=0.12, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:48:56,238 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=140148322, symbol='VOD', right='0', primaryExchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1'), position=690.0, marketPrice=1.17149995, marketValue=808.33, averageCost=1.1878884, unrealizedPNL=-11.31, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:48:56,243 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e85ee.01.01', time=datetime.datetime(2026, 2, 25, 11, 0, 44, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=119.0, price=466.25, permId=59685724, clientId=1, orderId=54, liquidation=0, cumQty=119.0, avgPrice=466.25, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:56,244 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86c6.01.01', time=datetime.datetime(2026, 2, 25, 11, 38, 18, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=112.0, price=465.35, permId=59685733, clientId=1, orderId=70, liquidation=0, cumQty=112.0, avgPrice=465.35, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:56,244 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86d3.01.01', time=datetime.datetime(2026, 2, 25, 11, 48, 5, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=105.0, price=464.9, permId=59685742, clientId=1, orderId=86, liquidation=0, cumQty=105.0, avgPrice=464.9, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:56,244 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86d4.01.01', time=datetime.datetime(2026, 2, 25, 11, 48, 44, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=108.0, price=464.95, permId=59685752, clientId=73, orderId=16, liquidation=0, cumQty=108.0, avgPrice=464.95, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:56,244 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86e5.01.01', time=datetime.datetime(2026, 2, 25, 11, 55, 43, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=113.0, price=465.3, permId=59685777, clientId=73, orderId=32, liquidation=0, cumQty=113.0, avgPrice=465.3, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:56,245 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e85ee.01.01', commission=5.774188, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:56,245 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86c6.01.01', commission=5.60596, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:56,245 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86d3.01.01', commission=5.440725, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:56,245 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86d4.01.01', commission=5.51073, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:56,245 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86e5.01.01', commission=5.628945, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:56,245 [INFO] ib_insync.ib: Synchronization complete
2026-02-25 15:48:56,246 [INFO] src.execution.ibkr_broker: Connected to IBKR at 127.0.0.1:7497 (clientId=73)
2026-02-25 15:48:56,246 [INFO] src.cli.runtime: [OK] IBKR connection established
2026-02-25 15:48:56,246 [INFO] src.cli.runtime: [OK] IBKR account detected: DUQ117408 (paper)
2026-02-25 15:48:56,246 [INFO] ib_insync.ib: Disconnecting from 127.0.0.1:7497, 120 B sent in 8 messages, 23.5 kB received in 427 messages, session time 119 ms.
2026-02-25 15:48:56,247 [INFO] ib_insync.client: Disconnecting
2026-02-25 15:48:56,247 [INFO] src.execution.ibkr_broker: Disconnected from IBKR
2026-02-25 15:48:56,247 [INFO] src.cli.runtime: UK health check complete: no blocking errors
2026-02-25 15:48:59,073 [ERROR] yfinance: $VOD.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:48:59,074 [WARNING] src.data.providers: YFinance empty result for VOD.L interval=1m request_type=start_end attempt=1/3; retrying in 0.50s
2026-02-25 15:48:59,583 [ERROR] yfinance: $VOD.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:48:59,583 [WARNING] src.data.providers: YFinance empty result for VOD.L interval=1m request_type=start_end attempt=2/3; retrying in 1.00s
2026-02-25 15:49:00,593 [ERROR] yfinance: $VOD.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:00,593 [WARNING] src.data.providers: YFinance retries exhausted (empty result) for VOD.L interval=1m request_type=start_end attempts=3
2026-02-25 15:49:00,594 [WARNING] src.data.feeds: Data provider 'yfinance' failed for VOD.L: Empty dataset from provider 'yfinance'
2026-02-25 15:49:01,190 [ERROR] yfinance: $BP.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:01,190 [WARNING] src.data.providers: YFinance empty result for BP.L interval=1m request_type=start_end attempt=1/3; retrying in 0.50s
2026-02-25 15:49:01,693 [ERROR] yfinance: $BP.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:01,694 [WARNING] src.data.providers: YFinance empty result for BP.L interval=1m request_type=start_end attempt=2/3; retrying in 1.00s
2026-02-25 15:49:02,702 [ERROR] yfinance: $BP.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:02,704 [WARNING] src.data.providers: YFinance retries exhausted (empty result) for BP.L interval=1m request_type=start_end attempts=3
2026-02-25 15:49:02,704 [WARNING] src.data.feeds: Data provider 'yfinance' failed for BP.L: Empty dataset from provider 'yfinance'
2026-02-25 15:49:04,820 [ERROR] yfinance: $SHEL.L: possibly delisted; no price data found  (1m 2026-02-24 -> 2026-02-24)
2026-02-25 15:49:04,820 [WARNING] src.data.providers: YFinance empty result for SHEL.L interval=1m request_type=start_end attempt=1/3; retrying in 0.50s
2026-02-25 15:49:05,324 [ERROR] yfinance: $SHEL.L: possibly delisted; no price data found  (1m 2026-02-24 -> 2026-02-24)
2026-02-25 15:49:05,324 [WARNING] src.data.providers: YFinance empty result for SHEL.L interval=1m request_type=start_end attempt=2/3; retrying in 1.00s
2026-02-25 15:49:06,332 [ERROR] yfinance: $SHEL.L: possibly delisted; no price data found  (1m 2026-02-24 -> 2026-02-24)
2026-02-25 15:49:06,333 [WARNING] src.data.providers: YFinance retries exhausted (empty result) for SHEL.L interval=1m request_type=start_end attempts=3
2026-02-25 15:49:06,333 [WARNING] src.data.feeds: Data provider 'yfinance' failed for SHEL.L: Empty dataset from provider 'yfinance'
2026-02-25 15:49:06,333 [INFO] ib_insync.client: Connecting to 127.0.0.1:7497 with clientId 73...
2026-02-25 15:49:06,334 [INFO] ib_insync.client: Connected
2026-02-25 15:49:06,336 [INFO] ib_insync.client: Logged on to server version 176
2026-02-25 15:49:06,337 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:hfarm
2026-02-25 15:49:06,338 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:eufarmnj
2026-02-25 15:49:06,338 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:cashfarm
2026-02-25 15:49:06,338 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfuture
2026-02-25 15:49:06,338 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:jfarm
2026-02-25 15:49:06,338 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfarm.nj
2026-02-25 15:49:06,339 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:eufarm
2026-02-25 15:49:06,339 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfarm
2026-02-25 15:49:06,339 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:euhmds
2026-02-25 15:49:06,339 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:fundfarm
2026-02-25 15:49:06,339 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:ushmds
2026-02-25 15:49:06,340 [INFO] ib_insync.wrapper: Warning 2158, reqId -1: Sec-def data farm connection is OK:secdefnj
2026-02-25 15:49:06,340 [INFO] ib_insync.client: API connection ready
2026-02-25 15:49:06,341 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1'), position=10.0, avgCost=13.81023)
2026-02-25 15:49:06,341 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=559.0, avgCost=4.7142142)
2026-02-25 15:49:06,341 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1'), position=690.0, avgCost=1.1878884)
2026-02-25 15:49:06,442 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=908940, symbol='BARC', right='0', primaryExchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=559.0, marketPrice=4.67830515, marketValue=2615.17, averageCost=4.7142142, unrealizedPNL=-20.07, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:49:06,443 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=909083, symbol='HSBA', right='0', primaryExchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1'), position=10.0, marketPrice=13.82199955, marketValue=138.22, averageCost=13.81023, unrealizedPNL=0.12, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:49:06,443 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=140148322, symbol='VOD', right='0', primaryExchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1'), position=690.0, marketPrice=1.17149995, marketValue=808.33, averageCost=1.1878884, unrealizedPNL=-11.31, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:49:06,446 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e85ee.01.01', time=datetime.datetime(2026, 2, 25, 11, 0, 44, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=119.0, price=466.25, permId=59685724, clientId=1, orderId=54, liquidation=0, cumQty=119.0, avgPrice=466.25, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:49:06,446 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86c6.01.01', time=datetime.datetime(2026, 2, 25, 11, 38, 18, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=112.0, price=465.35, permId=59685733, clientId=1, orderId=70, liquidation=0, cumQty=112.0, avgPrice=465.35, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:49:06,447 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86d3.01.01', time=datetime.datetime(2026, 2, 25, 11, 48, 5, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=105.0, price=464.9, permId=59685742, clientId=1, orderId=86, liquidation=0, cumQty=105.0, avgPrice=464.9, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:49:06,447 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86d4.01.01', time=datetime.datetime(2026, 2, 25, 11, 48, 44, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=108.0, price=464.95, permId=59685752, clientId=73, orderId=16, liquidation=0, cumQty=108.0, avgPrice=464.95, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:49:06,447 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86e5.01.01', time=datetime.datetime(2026, 2, 25, 11, 55, 43, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=113.0, price=465.3, permId=59685777, clientId=73, orderId=32, liquidation=0, cumQty=113.0, avgPrice=465.3, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:49:06,447 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e85ee.01.01', commission=5.774188, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:49:06,448 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86c6.01.01', commission=5.60596, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:49:06,448 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86d3.01.01', commission=5.440725, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:49:06,448 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86d4.01.01', commission=5.51073, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:49:06,448 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86e5.01.01', commission=5.628945, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:49:06,448 [INFO] ib_insync.ib: Synchronization complete
2026-02-25 15:49:06,449 [INFO] src.execution.ibkr_broker: Connected to IBKR at 127.0.0.1:7497 (clientId=73)
2026-02-25 15:49:06,449 [INFO] src.cli.runtime: Starting timed paper trial for 30s
2026-02-25 15:49:06,453 [INFO] src.cli.runtime: IBKR account detected: DUQ117408 (paper)
2026-02-25 15:49:06,454 [INFO] src.cli.runtime: Runtime DB (paper): trading_paper.db
2026-02-25 15:49:06,462 [INFO] src.trading.loop: Pre-warming strategy with recent 5-day history…
2026-02-25 15:49:08,109 [INFO] src.trading.loop:   HSBA.L: 1060 bars loaded (strategy ready: 1060 >= 16)
2026-02-25 15:49:08,323 [ERROR] yfinance: $VOD.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:08,323 [WARNING] src.data.providers: YFinance empty result for VOD.L interval=1m request_type=start_end attempt=1/3; retrying in 0.50s
2026-02-25 15:49:08,834 [ERROR] yfinance: $VOD.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:08,834 [WARNING] src.data.providers: YFinance empty result for VOD.L interval=1m request_type=start_end attempt=2/3; retrying in 1.00s
2026-02-25 15:49:09,843 [ERROR] yfinance: $VOD.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:09,843 [WARNING] src.data.providers: YFinance retries exhausted (empty result) for VOD.L interval=1m request_type=start_end attempts=3
2026-02-25 15:49:09,844 [WARNING] src.data.feeds: Data provider 'yfinance' failed for VOD.L: Empty dataset from provider 'yfinance'
2026-02-25 15:49:09,844 [WARNING] src.trading.loop:   VOD.L: pre-warm failed — No data returned for VOD.L. Check provider availability and date range.
2026-02-25 15:49:10,056 [ERROR] yfinance: $BP.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:10,057 [WARNING] src.data.providers: YFinance empty result for BP.L interval=1m request_type=start_end attempt=1/3; retrying in 0.50s
2026-02-25 15:49:10,572 [ERROR] yfinance: $BP.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:10,572 [WARNING] src.data.providers: YFinance empty result for BP.L interval=1m request_type=start_end attempt=2/3; retrying in 1.00s
2026-02-25 15:49:11,580 [ERROR] yfinance: $BP.L: possibly delisted; no price data found  (1m 2026-02-23 -> 2026-02-23)
2026-02-25 15:49:11,581 [WARNING] src.data.providers: YFinance retries exhausted (empty result) for BP.L interval=1m request_type=start_end attempts=3
2026-02-25 15:49:11,581 [WARNING] src.data.feeds: Data provider 'yfinance' failed for BP.L: Empty dataset from provider 'yfinance'
2026-02-25 15:49:11,582 [WARNING] src.trading.loop:   BP.L: pre-warm failed — No data returned for BP.L. Check provider availability and date range.
2026-02-25 15:49:13,237 [INFO] src.trading.loop:   BARC.L: 1060 bars loaded (strategy ready: 1060 >= 16)
2026-02-25 15:49:13,654 [ERROR] yfinance: $SHEL.L: possibly delisted; no price data found  (1m 2026-02-24 -> 2026-02-24)
2026-02-25 15:49:13,654 [WARNING] src.data.providers: YFinance empty result for SHEL.L interval=1m request_type=start_end attempt=1/3; retrying in 0.50s
2026-02-25 15:49:14,170 [ERROR] yfinance: $SHEL.L: possibly delisted; no price data found  (1m 2026-02-24 -> 2026-02-24)
2026-02-25 15:49:14,171 [WARNING] src.data.providers: YFinance empty result for SHEL.L interval=1m request_type=start_end attempt=2/3; retrying in 1.00s
2026-02-25 15:49:15,183 [ERROR] yfinance: $SHEL.L: possibly delisted; no price data found  (1m 2026-02-24 -> 2026-02-24)
2026-02-25 15:49:15,183 [WARNING] src.data.providers: YFinance retries exhausted (empty result) for SHEL.L interval=1m request_type=start_end attempts=3
2026-02-25 15:49:15,183 [WARNING] src.data.feeds: Data provider 'yfinance' failed for SHEL.L: Empty dataset from provider 'yfinance'
2026-02-25 15:49:15,184 [WARNING] src.trading.loop:   SHEL.L: pre-warm failed — No data returned for SHEL.L. Check provider availability and date range.
2026-02-25 15:49:15,184 [INFO] src.cli.runtime: Paper trading started. Min bars required: 16. Polling every 300s. Ctrl+C to stop.
2026-02-25 15:49:15,280 [INFO] src.trading.loop: Initial portfolio value: $1,000,056.93
2026-02-25 15:49:15,280 [INFO] src.data.feeds: Stream started for ['HSBA.L', 'VOD.L', 'BP.L', 'BARC.L', 'SHEL.L'] (poll every 300s)
2026-02-25 15:49:15,796 [ERROR] ib_insync.wrapper: Error 354, reqId 36: Requested market data is not subscribed. Check API status by selecting the Account menu then under Management choose Market Data Subscription Manager and/or availability of delayed data.Delayed market data is available.HSBA LSE/TOP/ALL, contract: Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1')
2026-02-25 15:49:16,125 [ERROR] ib_insync.wrapper: Error 354, reqId 37: Requested market data is not subscribed. Check API status by selecting the Account menu then under Management choose Market Data Subscription Manager and/or availability of delayed data.Delayed market data is available.BARC LSE/TOP/ALL, contract: Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1')
2026-02-25 15:49:16,207 [INFO] src.trading.loop: Portfolio: $nan  cash=$996,407.01  positions=3  return=+nan%
2026-02-25 15:49:16,580 [ERROR] ib_insync.wrapper: Error 354, reqId 38: Requested market data is not subscribed. Check API status by selecting the Account menu then under Management choose Market Data Subscription Manager and/or availability of delayed data.Delayed market data is available.VOD LSE/TOP/ALL, contract: Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1')
2026-02-25 15:49:16,582 [ERROR] ib_insync.wrapper: Error 10168, reqId 39: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1')
2026-02-25 15:49:16,800 [ERROR] ib_insync.wrapper: Error 10168, reqId 40: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1')
2026-02-25 15:49:17,016 [ERROR] ib_insync.wrapper: Error 10168, reqId 41: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1')
2026-02-25 15:49:17,232 [INFO] src.trading.loop: Portfolio: $nan  cash=$996,407.01  positions=3  return=+nan%
2026-02-25 15:49:17,607 [ERROR] ib_insync.wrapper: Error 10168, reqId 42: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1')
2026-02-25 15:49:17,808 [ERROR] ib_insync.wrapper: Error 10168, reqId 43: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1')
2026-02-25 15:49:18,026 [ERROR] ib_insync.wrapper: Error 10168, reqId 44: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1')
2026-02-25 15:49:18,242 [INFO] src.trading.loop: Portfolio: $nan  cash=$996,407.01  positions=3  return=+nan%
2026-02-25 15:49:18,611 [ERROR] ib_insync.wrapper: Error 10168, reqId 45: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1')
2026-02-25 15:49:18,803 [ERROR] ib_insync.wrapper: Error 10168, reqId 46: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1')
2026-02-25 15:49:19,021 [ERROR] ib_insync.wrapper: Error 10168, reqId 47: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1')
2026-02-25 15:49:19,238 [INFO] ib_insync.ib: placeOrder: New order Trade(contract=Stock(symbol='BARC', exchange='SMART', primaryExchange='LSE', currency='GBP'), order=MarketOrder(orderId=48, clientId=73, action='BUY', totalQuantity=130), orderStatus=OrderStatus(orderId=48, status='PendingSubmit', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 238024, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0)], advancedError='')
2026-02-25 15:49:19,341 [ERROR] ib_insync.wrapper: Error 10349, reqId 48: Order TIF was set to DAY based on order preset.
2026-02-25 15:49:19,341 [WARNING] ib_insync.wrapper: Canceled order: Trade(contract=Stock(symbol='BARC', exchange='SMART', primaryExchange='LSE', currency='GBP'), order=MarketOrder(orderId=48, clientId=73, action='BUY', totalQuantity=130), orderStatus=OrderStatus(orderId=48, status='Cancelled', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 238024, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 341210, tzinfo=datetime.timezone.utc), status='Cancelled', message='Error 10349, reqId 48: Order TIF was set to DAY based on order preset.', errorCode=10349)], advancedError='')
2026-02-25 15:49:19,526 [INFO] ib_insync.wrapper: orderStatus: Trade(contract=Stock(symbol='BARC', exchange='SMART', primaryExchange='LSE', currency='GBP'), order=MarketOrder(orderId=48, clientId=73, permId=59685828, action='BUY', totalQuantity=130.0, lmtPrice=0.0, auxPrice=0.0), orderStatus=OrderStatus(orderId=48, status='PreSubmitted', filled=0.0, remaining=130.0, avgFillPrice=0.0, permId=59685828, parentId=0, lastFillPrice=0.0, clientId=73, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 238024, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 341210, tzinfo=datetime.timezone.utc), status='Cancelled', message='Error 10349, reqId 48: Order TIF was set to DAY based on order preset.', errorCode=10349), TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 526053, tzinfo=datetime.timezone.utc), status='PreSubmitted', message='', errorCode=0)], advancedError='')
2026-02-25 15:49:19,528 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=689.0, avgCost=4.706720954716981)
2026-02-25 15:49:19,531 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e8a50.01.01', time=datetime.datetime(2026, 2, 25, 15, 49, 19, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=130.0, price=467.45, permId=59685828, clientId=73, orderId=48, liquidation=0, cumQty=130.0, avgPrice=467.45, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:49:19,532 [INFO] ib_insync.wrapper: execDetails: Fill(contract=Stock(conId=908940, symbol='BARC', exchange='BATEUK', currency='GBP', localSymbol='BARC', tradingClass='SET1'), execution=Execution(execId='0001b266.699e8a50.01.01', time=datetime.datetime(2026, 2, 25, 15, 49, 19, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=130.0, price=467.45, permId=59685828, clientId=73, orderId=48, liquidation=0, cumQty=130.0, avgPrice=467.45, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2), commissionReport=CommissionReport(execId='', commission=0.0, currency='', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0), time=datetime.datetime(2026, 2, 25, 15, 49, 19, 531558, tzinfo=datetime.timezone.utc))
2026-02-25 15:49:19,532 [INFO] ib_insync.wrapper: orderStatus: Trade(contract=Stock(symbol='BARC', exchange='SMART', primaryExchange='LSE', currency='GBP'), order=MarketOrder(orderId=48, clientId=73, permId=59685828, action='BUY', totalQuantity=130.0, lmtPrice=0.0, auxPrice=0.0), orderStatus=OrderStatus(orderId=48, status='Filled', filled=130.0, remaining=0.0, avgFillPrice=467.45, permId=59685828, parentId=0, lastFillPrice=467.45, clientId=73, whyHeld='', mktCapPrice=0.0), fills=[Fill(contract=Stock(conId=908940, symbol='BARC', exchange='BATEUK', currency='GBP', localSymbol='BARC', tradingClass='SET1'), execution=Execution(execId='0001b266.699e8a50.01.01', time=datetime.datetime(2026, 2, 25, 15, 49, 19, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=130.0, price=467.45, permId=59685828, clientId=73, orderId=48, liquidation=0, cumQty=130.0, avgPrice=467.45, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2), commissionReport=CommissionReport(execId='', commission=0.0, currency='', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0), time=datetime.datetime(2026, 2, 25, 15, 49, 19, 531558, tzinfo=datetime.timezone.utc))], log=[TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 238024, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 341210, tzinfo=datetime.timezone.utc), status='Cancelled', message='Error 10349, reqId 48: Order TIF was set to DAY based on order preset.', errorCode=10349), TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 526053, tzinfo=datetime.timezone.utc), status='PreSubmitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 531558, tzinfo=datetime.timezone.utc), status='PreSubmitted', message='Fill 130.0@467.45', errorCode=0), TradeLogEntry(time=datetime.datetime(2026, 2, 25, 15, 49, 19, 532058, tzinfo=datetime.timezone.utc), status='Filled', message='', errorCode=0)], advancedError='')
2026-02-25 15:49:19,533 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e8a50.01.01', commission=6.038425, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:49:19,533 [INFO] src.execution.ibkr_broker: Order BARC.L (48) filled at 467.4500 after 2 seconds (status: Filled)
2026-02-25 15:49:19,533 [INFO] src.trading.loop: ORDER FILLED: BUY 129.8575 BARC.L @ ~$467.45
2026-02-25 15:49:19,533 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=689.0, avgCost=4.715484996806966)
2026-02-25 15:49:19,540 [ERROR] ib_insync.wrapper: Error 10168, reqId 49: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1')
2026-02-25 15:49:19,751 [ERROR] ib_insync.wrapper: Error 10168, reqId 50: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1')
2026-02-25 15:49:19,968 [ERROR] ib_insync.wrapper: Error 10168, reqId 51: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1')
2026-02-25 15:49:20,183 [INFO] src.trading.loop: Portfolio: $nan  cash=$996,407.01  positions=3  return=+nan%
2026-02-25 15:49:20,477 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=908940, symbol='BARC', right='0', primaryExchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=689.0, marketPrice=4.6739998, marketValue=3220.39, averageCost=4.715485, unrealizedPNL=-28.58, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:49:20,477 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=909083, symbol='HSBA', right='0', primaryExchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1'), position=10.0, marketPrice=13.81400015, marketValue=138.14, averageCost=13.81023, unrealizedPNL=0.04, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:49:20,478 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=140148322, symbol='VOD', right='0', primaryExchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1'), position=690.0, marketPrice=1.17200005, marketValue=808.68, averageCost=1.1878884, unrealizedPNL=-10.96, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:49:20,478 [ERROR] ib_insync.wrapper: Error 10168, reqId 52: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1')
2026-02-25 15:49:20,682 [ERROR] ib_insync.wrapper: Error 10168, reqId 53: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1')
2026-02-25 15:49:20,899 [ERROR] ib_insync.wrapper: Error 10168, reqId 54: Requested market data is not subscribed. Delayed market data is not enabled., contract: Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1')
2026-02-25 15:49:21,115 [INFO] src.trading.loop: Portfolio: $nan  cash=$995,793.29  positions=3  return=+nan%
2026-02-25 15:49:36,459 [INFO] ib_insync.ib: Disconnecting from 127.0.0.1:7497, 2.03 kB sent in 28 messages, 55.5 kB received in 1046 messages, session time 30.1 s.
2026-02-25 15:49:36,459 [INFO] ib_insync.client: Disconnecting
2026-02-25 15:49:36,459 [INFO] src.execution.ibkr_broker: Disconnected from IBKR
2026-02-25 15:49:36,460 [INFO] ib_insync.client: Disconnected.
2026-02-25 15:49:36,460 [INFO] src.cli.runtime: Paper trial duration reached (30s); stopping session
2026-02-25 15:49:36,463 [INFO] src.cli.runtime: Paper session summary export completed
2026-02-25 15:49:36,463 [INFO] src.cli.runtime:   json: reports\uk_tax\paper_session_summary.json
2026-02-25 15:49:36,464 [INFO] src.cli.runtime:   csv: reports\uk_tax\paper_session_summary.csv
2026-02-25 15:49:36,464 [INFO] src.cli.runtime:   fills=5/14 fill_rate=35.71% win_rate=0.00% pnl_gbp=0.00
