2026-02-25 15:48:54,014 [INFO] src.cli.runtime: [OK] Broker provider is IBKR
2026-02-25 15:48:54,015 [INFO] src.cli.runtime: [OK] Market timezone is Europe/London
2026-02-25 15:48:54,017 [INFO] src.cli.runtime: [OK] Base currency is GBP
2026-02-25 15:48:54,017 [INFO] src.cli.runtime: [OK] Detected UK symbols: HSBA.L, VOD.L, BP.L, BARC.L, SHEL.L
2026-02-25 15:48:54,018 [INFO] src.cli.runtime: [OK] DB isolation paths set (paper=trading_paper.db, live=trading_live.db, test=trading_test.db)
2026-02-25 15:48:54,054 [INFO] ib_insync.client: Connecting to 127.0.0.1:7497 with clientId 73...
2026-02-25 15:48:54,055 [INFO] ib_insync.client: Connected
2026-02-25 15:48:54,057 [INFO] ib_insync.client: Logged on to server version 176
2026-02-25 15:48:54,059 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:hfarm
2026-02-25 15:48:54,059 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:eufarmnj
2026-02-25 15:48:54,059 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:cashfarm
2026-02-25 15:48:54,059 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfuture
2026-02-25 15:48:54,059 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:jfarm
2026-02-25 15:48:54,060 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfarm.nj
2026-02-25 15:48:54,060 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:eufarm
2026-02-25 15:48:54,060 [INFO] ib_insync.wrapper: Warning 2104, reqId -1: Market data farm connection is OK:usfarm
2026-02-25 15:48:54,060 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:euhmds
2026-02-25 15:48:54,060 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:fundfarm
2026-02-25 15:48:54,060 [INFO] ib_insync.wrapper: Warning 2106, reqId -1: HMDS data farm connection is OK:ushmds
2026-02-25 15:48:54,060 [INFO] ib_insync.wrapper: Warning 2158, reqId -1: Sec-def data farm connection is OK:secdefnj
2026-02-25 15:48:54,060 [INFO] ib_insync.client: API connection ready
2026-02-25 15:48:54,062 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=909083, symbol='HSBA', exchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1'), position=10.0, avgCost=13.81023)
2026-02-25 15:48:54,062 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=908940, symbol='BARC', exchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=559.0, avgCost=4.7142142)
2026-02-25 15:48:54,062 [INFO] ib_insync.wrapper: position: Position(account='DUQ117408', contract=Stock(conId=140148322, symbol='VOD', exchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1'), position=690.0, avgCost=1.1878884)
2026-02-25 15:48:54,165 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=908940, symbol='BARC', right='0', primaryExchange='LSE', currency='GBP', localSymbol='BARC', tradingClass='SET1'), position=559.0, marketPrice=4.67830515, marketValue=2615.17, averageCost=4.7142142, unrealizedPNL=-20.07, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:48:54,166 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=909083, symbol='HSBA', right='0', primaryExchange='LSE', currency='GBP', localSymbol='HSBA', tradingClass='SET1'), position=10.0, marketPrice=13.82199955, marketValue=138.22, averageCost=13.81023, unrealizedPNL=0.12, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:48:54,166 [INFO] ib_insync.wrapper: updatePortfolio: PortfolioItem(contract=Stock(conId=140148322, symbol='VOD', right='0', primaryExchange='LSE', currency='GBP', localSymbol='VOD', tradingClass='SET1'), position=690.0, marketPrice=1.17149995, marketValue=808.33, averageCost=1.1878884, unrealizedPNL=-11.31, realizedPNL=0.0, account='DUQ117408')
2026-02-25 15:48:54,170 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e85ee.01.01', time=datetime.datetime(2026, 2, 25, 11, 0, 44, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=119.0, price=466.25, permId=59685724, clientId=1, orderId=54, liquidation=0, cumQty=119.0, avgPrice=466.25, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:54,171 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86c6.01.01', time=datetime.datetime(2026, 2, 25, 11, 38, 18, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=112.0, price=465.35, permId=59685733, clientId=1, orderId=70, liquidation=0, cumQty=112.0, avgPrice=465.35, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:54,171 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86d3.01.01', time=datetime.datetime(2026, 2, 25, 11, 48, 5, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=105.0, price=464.9, permId=59685742, clientId=1, orderId=86, liquidation=0, cumQty=105.0, avgPrice=464.9, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:54,172 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86d4.01.01', time=datetime.datetime(2026, 2, 25, 11, 48, 44, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=108.0, price=464.95, permId=59685752, clientId=73, orderId=16, liquidation=0, cumQty=108.0, avgPrice=464.95, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:54,172 [INFO] ib_insync.wrapper: execDetails Execution(execId='0001b266.699e86e5.01.01', time=datetime.datetime(2026, 2, 25, 11, 55, 43, tzinfo=datetime.timezone.utc), acctNumber='DUQ117408', exchange='BATEUK', side='BOT', shares=113.0, price=465.3, permId=59685777, clientId=73, orderId=32, liquidation=0, cumQty=113.0, avgPrice=465.3, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2026-02-25 15:48:54,172 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e85ee.01.01', commission=5.774188, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:54,172 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86c6.01.01', commission=5.60596, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:54,172 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86d3.01.01', commission=5.440725, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:54,172 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86d4.01.01', commission=5.51073, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:54,173 [INFO] ib_insync.wrapper: commissionReport: CommissionReport(execId='0001b266.699e86e5.01.01', commission=5.628945, currency='GBP', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0)
2026-02-25 15:48:54,173 [INFO] ib_insync.ib: Synchronization complete
2026-02-25 15:48:54,173 [INFO] src.execution.ibkr_broker: Connected to IBKR at 127.0.0.1:7497 (clientId=73)
2026-02-25 15:48:54,173 [INFO] src.cli.runtime: [OK] IBKR connection established
2026-02-25 15:48:54,173 [INFO] src.cli.runtime: [OK] IBKR account detected: DUQ117408 (paper)
2026-02-25 15:48:54,174 [INFO] ib_insync.ib: Disconnecting from 127.0.0.1:7497, 120 B sent in 8 messages, 23.5 kB received in 427 messages, session time 120 ms.
2026-02-25 15:48:54,174 [INFO] ib_insync.client: Disconnecting
2026-02-25 15:48:54,174 [INFO] src.execution.ibkr_broker: Disconnected from IBKR
2026-02-25 15:48:54,174 [INFO] src.cli.runtime: UK health check complete: no blocking errors
